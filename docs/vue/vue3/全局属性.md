# 全局属性



## app.config.globalProperties

Vue3 推荐通过 **app.config.globalProperties** 挂载全局变量：

```ts [main.ts]
// main.js
import { createApp } from 'vue'
import App from './App.vue'

const app = createApp(App)

// 定义全局变量
app.config.globalProperties.$baseUrl = 'https://api.xxx.com'
app.config.globalProperties.$userInfo = { name: '李四' }

app.mount('#app')

```

在组件里（选项式）：

```vue
<script>
export default {
  mounted() {
    console.log(this.$baseUrl)  // https://api.xxx.com
  }
}
</script>
```

在 `setup` 里需要 **getCurrentInstance**：

```vue
<script setup>
import { getCurrentInstance } from 'vue'

const { appContext } = getCurrentInstance()
const global = appContext.config.globalProperties

console.log(global.$baseUrl) // https://api.xxx.com
</script>

```







## provide/inject

如果是一些需要全局共享的状态，Vue3 推荐使用 `provide / inject` 或者直接用 **Pinia / Vuex**。

```ts
// main.js
import { createApp } from 'vue'
import App from './App.vue'

const app = createApp(App)
app.provide('baseUrl', 'https://api.xxx.com')
app.mount('#app')

```

组件使用：

```ts
<script setup>
import { inject } from 'vue'

const baseUrl = inject('baseUrl')
console.log(baseUrl) // https://api.xxx.com
</script>

```

