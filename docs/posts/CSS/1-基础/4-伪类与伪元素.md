# 伪类与伪元素

## 状态伪类

- 链接伪类

```css
a:link {
  color: blue;
} /* 未访问的链接 */
a:visited {
  color: purple;
} /* 已访问的链接 */
a:hover {
  color: red;
} /* 鼠标悬停 */
a:active {
  color: orange;
} /* 正在点击的状态（鼠标未弹起） */
```

书写时伪类顺序（LVHA【爱恨法则】）：我们希望后面的伪类可以覆盖前面的伪类样式，因为 hover 时，a 可能也处于 link 状态，我们希望生效的是 hover【特殊的在后，防止被覆盖】

link → :visited → :hover → :active

```css
a:link {
  background-color: red;
}
a:visited {
  background-color: blue;
}
a:hover {
  background-color: green;
}
a:active {
  background-color: yellow;
  color: #fff;
}
```

- 用户行为伪类

| 伪类        | 作用                  |
| ----------- | --------------------- |
| `:hover`    | 鼠标悬停              |
| `:active`   | 被点击时（未弹起）    |
| `:focus`    | 获得焦点（如输入框）  |
| `:disabled` | 被禁用                |
| `:checked`  | 单选框/复选框选中状态 |

## 结构伪类

> 只讲解常用的三个伪类选择器

### first-child

第一个子元素

### last-child

最后一个子元素

- 常用场景：元素之间的分割线

:::code-group

```html
<div class="vertical-divider">
  <span>苹果</span>
  <span>香蕉</span>
  <span>葡萄</span>
</div>
```

```css
.vertical-divider {
  display: flex;
  align-items: center;
  font-size: 14px;
}
.vertical-divider span {
  padding: 0 10px;
  border-right: 1px solid #ccc; /* 添加竖线 */
}

.vertical-divider span:last-child {
  border-right: none;
}
```

:::

- 输出：

<style>
  .vertical-divider {
  display: flex;
  align-items: center;
  font-size: 14px;
}
.vertical-divider span {
  padding: 0 10px;    
  border-right: 1px solid #ccc; /* 添加竖线 */
}
.vertical-divider span:last-child{
  border-right: none
}
</style>

<div class="vertical-divider">
  <span>苹果</span>
  <span>香蕉</span>
  <span>葡萄</span>
</div>


### nth-child(n)

第 n 个子元素

```css
selector:nth-child(n) {
  property: value;
}
```

浏览器的逻辑：【位置->类型】

- 判断`selector`是不是 **父元素的第 n 个子元素**
- 如果是，再判断它 **是不是 `selector`**

n 支持以下值：

1. **数字 `n`**

```
li:nth-child(3) { color: red; }
```

表示选中父元素中的第 **3 个子元素**。

2. **关键词 `odd` / `even`**

```
li:nth-child(odd) { background: #eee; }  /* 奇数 */
li:nth-child(even) { background: #ddd; } /* 偶数 */
```

3. 公式

```
li:nth-child(3n) { color: orange; }      /* 每3个选一个：第3,6,9… */
li:nth-child(3n+1) { color: green; }    /* 第1,4,7… */
li:nth-child(2n+1) { background: #eee; } /* 奇数 */
```

- n 是从 0 开始的，之后递增
- **`:nth-child()` 按父元素的所有子元素顺序计数**
  - 不管子元素类型是什么
  - 所以如果有不同类型的元素，中间会计入计数

```html
<!--li:nth-child(2) 不会选中第2个 <li>，而是选中 <p>-->
<ul>
  <li>1</li>
  <p>段落</p>
  <li>2</li>
</ul>
```

### nth-of-type(n)

浏览器的逻辑：【类型->位置】

- 判断`selector`是不是 这个类型
- 如果类型符合，则判断`是不是 **父元素的第 n 个子元素**



## 伪元素选择器

伪元素选择器（**Pseudo-elements**）是 **CSS** 中用来**选中元素的特定部分**（而不是整个元素）的选择器。它通常用于在不改变 HTML 结构的前提下，**给元素添加样式或内容**。

| 伪元素           | 作用                                                 | 使用频率 |
| ---------------- | ---------------------------------------------------- | -------- |
| `::before`       | 在元素内容**之前**插入内容                           | 常用     |
| `::after`        | 在元素内容**之后**插入内容                           | 常用     |
| `::first-line`   | 选中元素的**第一行文字**                             |          |
| `::first-letter` | 选中元素的**第一个字母或字符**                       |          |
| `::selection`    | 选中用户**鼠标选中的文本部分**                       |          |
| `::placeholder`  | 输入框的**占位文字**                                 | 常用     |
| `::marker`       | 选中**列表项符号**（如 `•` 或 `1.`）                 |          |
| `::backdrop`     | 用于**全屏元素**（如 `<dialog>`、`<video>`）的背景层 |          |

### root

在 **HTML 页面中，`:root` 指的就是 `<html>` 元素**。

```css
:root {
  background: #fff;
}

```

等价于：

```
html {
  background: #fff;
}
```

但它们 **并不完全一样**，`:root` 更常用、也更强。

::: tip root和html选择器的区别

root选择器比html选择器的优先级更高，因此通常在root中声明全局变量：

```css 
:root {
  --main-color: #1677ff;
  --font-size-base: 14px;
}

```

:::



### before&after

`::before` 和 `::after` 用于在一个元素的 **内容前后** 插入生成的内容（generated content），插入的元素类似行内元素，而不用在 HTML 中增加实际标签。

- `::before` → 元素内容**前面**插入内容
- `::after` → 元素内容**后面**插入内容

基本语法：

```css
selector::before {
  content: "内容";
}

selector::after {
  content: "内容";
}
```

:::code-group

```html
<textarea placeholder="请输入内容..."></textarea>
```

```css
textarea::placeholder {
  color: gray;
}
```

:::
